@{
    ViewBag.Title = "MyAccount";
}

<div id="myaccount">
    <dl class="tabs" data-tab>
        <dd class="active"><a href="#panel-favorites">My Favorites</a></dd>
        <dd><a href="#panel-watchlist">Watchlist</a></dd>
        <dd><a href="#panel-recommendations">Recommendations</a></dd>
        <dd><a href="#panel-reservations">Reservations</a></dd>
        <dd><a href="#panel-recommendations">Notifications<span class="success label tiny">1</span></a></dd>
        <!--
            <dd><a href="#panel-activity">Activity</a></dd>
        -->
    </dl>
    <div class="tabs-content tabs-content-custom">
        <div class="content active small" id="panel-favorites">
            <table id="fav-table">
                <thead>
                    <tr>
                        <td width="300px">Movie Name</td>
                        <td width="200px">Catagories</td>
                        <td width="200px">Actors</td>
                        <td width="80px">Year</td>
                        <td width="80px">IMDb</td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="content small" id="panel-watchlist">
            <table id="watchlist-table">
                <thead>
                    <tr>
                        <td width="300px">Movie Name</td>
                        <td width="200px">Catagories</td>
                        <td width="200px">Actors</td>
                        <td width="80px">Year</td>
                        <td width="80px">IMDb</td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="content small" id="panel-recommendations">
            <table id="recom-table">
                <thead>
                    <tr>
                        <td width="300px">Movie Name</td>
                        <td width="200px">Recommended By</td>
                        <td width="400px">Comment</td>
                        <td width="100px">Date</td>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <!--
        <div class="content small" id="panel-activity">
            <table id="activity-table">
                <thead>
                    <tr>
                        <td width="200px">Date</td>
                        <td>
                            History
                            <a id="clearlog" class="right">Clear History</a>
                        </td>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>            
        -->



    </div>
</div>

@section customstyles{
    @Styles.Render("~/Content/css/myaccount.css")
}

@section customscripts{
    <script src="/Content/js/jquery.tablesorter.js" type="text/javascript"></script>
}

@section scripts{
    <script>
        $(document).ready(function () {

            $.ajax({
                url: "/User/Recommendations",
                type: "GET",
            })
            .success(function (data) {
                $("#recom-table tbody").html(data);
            })
            .error(function () {
                $("#recom-table tbody").html("<p>Loading recommendations failed!</p>");
            });

            $.ajax({
                url: "/User/Favorites",
                type: "GET"
            })
            .success(function (data) {
                $("#fav-table tbody").html(data);
            })
            .error(function () {
                $("#fav-table tbody").html("<p>Loading favorites failed!</p>");
            });

            $.ajax({
                url: "/User/Watchlist",
                type: "GET"
            })
            .success(function (data) {
                $("#watchlist-table tbody").html(data);
            })
            .error(function () {
                $("#watchlist-table tbody").html("<p>Loading favorites failed!</p>");
            });
        });
    </script>

}
